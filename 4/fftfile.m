clear all; clc;
fs=1000;
ts=1/fs;
N=1000;
t=(0:N-1)*ts;
x=cos(2*pi*50*t);
figure(1);
subplot(2,1,1);
plot(t,x);
N=2^nextpow2(N);
xf=fft(x,N)/N;
xf=abs(xf);
xf=fftshift(xf);
f=(-N/2:N/2-1)*fs/N;
subplot(2,1,2);
plot(f,xf);
T=0.1;
p1=stp(t,0)-stp(t,T);
figure(2);
subplot(2,1,1);
plot(t,p1);
p1f=fft(p1,N)/N;
p1f=abs(p1f);
p1f=fftshift(p1f);
f=(-N/2:N/2-1)*fs/N;
subplot(2,1,2);
plot(f,p1f);